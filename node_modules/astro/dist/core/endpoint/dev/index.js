import { createRenderContext } from "../../render/index.js";
import { callEndpoint } from "../index.js";
async function call(options, logging) {
  const {
    env,
    preload: [, mod],
    middleware
  } = options;
  const endpointHandler = mod;
  const ctx = await createRenderContext({
    request: options.request,
    origin: options.origin,
    pathname: options.pathname,
    route: options.route,
    env,
    mod: endpointHandler
  });
  return await callEndpoint(endpointHandler, env, ctx, logging, middleware);
}
export {
  call
};
